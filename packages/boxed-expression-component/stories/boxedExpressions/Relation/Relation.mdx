import { Meta, Story, Canvas, Subtitle } from "@storybook/blocks";
import * as Relation from "./Relation.stories";

<Meta title="MDX/Relation" of={Relation} />

# Relation

A relation is a vertical list of horizontal values with no result cell. This expression can be used to store static values.

## Overview

### Index column

#### Header

The header row has a "#" symbol which is a placeholder and has any purposes.

#### Values

The first and any other additional rows has the row number.

### Variable columns

The variable columns can't be less then 1 and doesn't have a maximum number.

#### Headers

If the relation is the root expression of a decision node, the header row will be split into two rows.
The first will represents the decision name and type, and the second will represents the variables name and type.
Now, if the relation is a nested expression, it will have only one row, which will be the variables name and type.

> ##### Decision header
>
> This row will be a single cell which has the decision name and its type,
> and by right clicking on it a context menu will open enabling to edit its values.
>
> ##### Variable header
>
> This row has a cell for each variable name and type, and by right clicking on it a context menu will open enabling to edit its values.

#### Values

The value cells are literal expressions which can be filled with static data.

**Important**: Only literal expressions are supported on relations.

### Controls

#### Resizing

Hovering the mouse on the decision header cell, variable header cell or value cell will show the resize handle on the right side of the cell.
Right clicking on it enables to drag and resize the cell to a minimum of 100px and a no limit maximum size.

**Important**: All cells in the same column will have the same size.

#### Rows

Left clicking on the index column cells or in the value cells will open the "Row" context menu.
It's possible to insert above, insert below, insert multiples, delete, and duplicate the row.

Another way to add columns is by hovering the mouse on the index column cells will make appear a plus sign on the top (insert above)
or on the bottom (insert below) of the cell, the position of the plus sign will depend of the mouse position.
Right clicking on it will add a new row above or below of the actual row.

**Important**: It's not possible to perform the above process in the header row index ("#").

#### Variables

Left clicking on the header cells or in the value cells will open the "Column" context menu.
It's possible to insert left, insert right, insert multiples and delete the column.

Anoter way to add columns is by hovering the mouse on a variable cell will make appear a plus sign on the right (insert right)
or left (insert left) side of the cell, the position of the plus sign will depend of the mouse position.
Right clicking on it will add a new column on the right or left side of the actual column.

<Canvas>
  <div style={{ display: "flex", flexDirection: "column"}}>
  <Subtitle>
    {`A Relation expression with size 1x1`}
    <Story of={Relation.Base} />
  </Subtitle>
  <Subtitle>
    {`A Relation expression with size 3x4`}
    <Story of={Relation.BiggerRelation} />
  </Subtitle>

  <Subtitle>
    {`A nested Relation expression with size 1x1 inside a Boxed List`}
    <Story of={Relation.NestedRelation} />
  </Subtitle>
  </div>
</Canvas>
